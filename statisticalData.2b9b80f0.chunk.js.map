{"version":3,"sources":["webpack:///./apps/portal/statisticalData/component.js","webpack:///./apps/portal/statisticalData/action.js","webpack:///./apps/portal/statisticalData/reducer.js"],"names":["C","props","monkeyKing","path","creator","action","option","onInit","component","injections","reduce","load","webapi","statisticalData","query","response","getPeriod","address","getOption","data","metaAction","gf","toJS","text","legend","title","subtext","tooltip","trigger","toolbox","show","feature","mark","dataView","readOnly","magicType","type","restore","saveAsImage","calculable","xAxis","xAxisData","yAxis","series","name","seriesData","markPoint","markLine","config","current","o","ret","metaHandlers","reducer","init","state","initState","metaReducer","sf","details6"],"mappings":"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","file":"statisticalData.2b9b80f0.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport { wrapper } from 'mk-meta-engine'\r\nimport appInfo from './index'\r\n\r\n@wrapper(appInfo)\r\nexport default class C extends Component {\r\n\trender() {\r\n\t\treturn this.props.monkeyKing({ ...this.props, path: 'root' })\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./apps/portal/statisticalData/component.js","import React from 'react'\r\nimport { action as MetaAction, AppLoader } from 'mk-meta-engine'\r\nimport config from './config'\r\n\r\nclass action {\r\n    constructor(option) {\r\n        this.metaAction = option.metaAction\r\n        this.config = config.current\r\n\t\tthis.webapi = this.config.webapi\r\n    }\r\n\r\n    onInit = ({ component, injections }) => {\r\n        this.component = component\r\n        this.injections = injections\r\n        injections.reduce('init')\r\n\t\tthis.load()\r\n    }\r\n\t\r\n\tload = async () => {\r\n\t\tconst response = await this.webapi.statisticalData.query()\r\n\t\tthis.injections.reduce('load', response)\r\n\t}\r\n\t\r\n\tgetPeriod = (address) => {\r\n//\t\treturn this.metaAction.toast('error', '暂无数据')\r\n\t}\r\n\r\n    getOption = (address) => {\r\n\r\n        const data = this.metaAction.gf('data.chart.' + address).toJS()\r\n\t\tlet text, legend = []\r\n\t\tif(address == 'details6') {\r\n\t\t\ttext = ''\r\n\t\t\tlegend = ['会话', '消息']\r\n\t\t}\r\n        return {\r\n            title: {\r\n                text: text,\r\n                subtext: '纯属虚构'\r\n            },\r\n            tooltip: {\r\n                trigger: 'axis'\r\n            },\r\n            legend: {\r\n                data: legend\r\n            },\r\n            toolbox: {\r\n                show: true,\r\n                feature: {\r\n                    mark: { show: true },\r\n                    dataView: { show: true, readOnly: false },\r\n                    magicType: { show: true, type: ['line', 'bar'] },\r\n                    restore: { show: true },\r\n                    saveAsImage: { show: true }\r\n                }\r\n            },\r\n            calculable: true,\r\n            xAxis: [\r\n                {\r\n                    type: 'category',\r\n                    data: data.xAxisData\r\n                }\r\n            ],\r\n            yAxis: [\r\n                {\r\n                    type: 'value'\r\n                }\r\n            ],\r\n            series: [\r\n                {\r\n                    name: legend[0],\r\n                    type: 'bar',\r\n                    data: data.seriesData[0],\r\n                    markPoint: {\r\n                        data: [\r\n                            { type: 'max', name: '最大值' },\r\n                            { type: 'min', name: '最小值' }\r\n                        ]\r\n                    },\r\n                    markLine: {\r\n                        data: [\r\n                            { type: 'average', name: '平均值' }\r\n                        ]\r\n                    }\r\n                },\r\n                {\r\n                    name: legend[1],\r\n                    type: 'bar',\r\n                    data: data.seriesData[1],\r\n                    markPoint: {\r\n                        data: [\r\n                            { type: 'max', name: '年最高', },\r\n                            { type: 'min', name: '年最低', }\r\n                        ]\r\n                    },\r\n                    markLine: {\r\n                        data: [\r\n                            { type: 'average', name: '平均值' }\r\n                        ]\r\n                    }\r\n                }\r\n            ]\r\n        }\r\n    }\r\n}\r\n\r\nexport default function creator(option) {\r\n    const metaAction = new MetaAction(option),\r\n        o = new action({ ...option, metaAction }),\r\n        ret = { ...metaAction, ...o }\r\n\r\n    metaAction.config({ metaHandlers: ret })\r\n\r\n    return ret\r\n}\n\n\n// WEBPACK FOOTER //\n// ./apps/portal/statisticalData/action.js","import { Map, fromJS } from 'immutable'\r\nimport { reducer as MetaReducer } from 'mk-meta-engine'\r\nimport config from './config'\r\nimport { getInitState } from './data'\r\n\r\nclass reducer {\r\n    constructor(option) {\r\n        this.metaReducer = option.metaReducer\r\n        this.config = config.current\r\n    }\r\n\r\n    init = (state, option) => {\r\n        const initState = getInitState()\r\n        return this.metaReducer.init(state, initState)\r\n    }\r\n\r\n    load = (state, response) => {\r\n\t\tstate = this.metaReducer.sf(state, 'data.chart.details6.xAxisData', fromJS(response.details6.xAxisData))\r\n\t\tstate = this.metaReducer.sf(state, 'data.chart.details6.seriesData', fromJS(response.details6.seriesData))\r\n\t\treturn state\r\n\t}\r\n}\r\n\r\nexport default function creator(option) {\r\n    const metaReducer = new MetaReducer(option),\r\n        o = new reducer({ ...option, metaReducer })\r\n\r\n    return { ...metaReducer, ...o }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./apps/portal/statisticalData/reducer.js"],"sourceRoot":""}